---
import { Avatar, AvatarImage, AvatarFallback } from '@/components/starwind/avatar';
import ProfilePicture from '../assets/images/profile-picture.jpg';
import Socials from '@/components/Socials.astro';
---

<section class='homepage sidebar-layout max-w-7xl'>
    <div class='card md:h-full lg:card-side'>
        <Avatar size='custom'>
            <AvatarImage
                image={ProfilePicture}
                alt='Zoran G. Verona'
            />
            <AvatarFallback>ZGV</AvatarFallback>
        </Avatar>

        <div class='card-body flex items-center gap-16 lg:gap-16'>
            <h2 class='job-title divider divider-secondary m-0 text-secondary'>Frontend Developer</h2>

            <h1 class='name mt-10 lg:mt-0 self-start'>Hey, I am Zoran G. Verona.</h1>

            <h5 class='description'>
                Based in Croatia, Europe, with 4+ years of web development experience.
                <span class='block'>
                    I am a frontend web developer who enjoys building websites and web applications that are both fun and functional.
                </span>
            </h5>

            <Socials />
        </div>
    </div>
</section>

<style>
    .homepage {
        overflow: hidden;

        figure {
            border-radius: 12px;

            /* Mobile */
            @media (max-width: 1023px) {
                margin: 0 auto;
            }
        }

        .name {
            //letter-spacing: 0.1rem;
            //word-spacing: 0.2rem;
        }
    }

    .divider {
        --myScale: 0;

        &::before, &::after {
            height: 1px;
            margin: 0 20px;
            transform: scale(var(--myScale));
        }
    }
</style>

<script>
   import { gsap } from 'gsap';

   const jobTitle = document.querySelector('.job-title');
   const name = document.querySelector('.name');
   const description = document.querySelector('.description');
   const socials = document.querySelector('.socials');
   const divider = document.querySelectorAll('.divider');

   const timeline = gsap.timeline({
      defaults: {
         duration: 2,
         ease: 'power3.inOut'
      }
   });

   timeline
      .fromTo(jobTitle, {
         x: 0, y: '-50vh',
      }, {
         x: 0, y: 0,
      })
      .fromTo([name, description], {
         x: 0, y: '50vh',
      }, {
         x: 0, y: 0,
      })
      .fromTo(socials, {
         x: 0, y: '50vh',
      }, {
         x: 0, y: 0,
      })
      .to(divider, {
         '--myScale': 1,
         ease: 'bounce.out',
         duration: 5,
      })
</script>