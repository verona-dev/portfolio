---
import { Avatar, AvatarImage, AvatarFallback } from '@/components/starwind/avatar';
import ProfilePicture from '@/assets/images/profile-picture.jpg';
---

<section class='homepage page opacity-0 text-center'>
    <Avatar class='border-pink-400 min-h-[300px]'>
        <AvatarImage
            image={ProfilePicture}
            alt='Zoran G. Verona'
        />
        <AvatarFallback>ZGV</AvatarFallback>
    </Avatar>

    <h2>Zoran G. Verona</h2>

    <h1>
        <span>Frontend Developer</span>
        <span class='underline'></span>
    </h1>

    <h4
        class='developer-info mb-10'
        set:html='Based in Croatia, Europe, with 3+ years of development experience. I am a frontend web developer who enjoys building websites and web applications that are both fun and functional.'
    />
</section>

<style>
    .homepage {
        position: relative;

        figure {
            margin: 0 auto;
        }

        h1 {
            position: relative;
            display: inline-block;
            text-shadow: 0 0.5rem 2rem, 0 -0.5rem 1rem rgba(80, 76, 76, 0.75);
        }

        .underline {
            display: block;
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--color-emerald-400);
            border-radius: 12px;
        }
    }
</style>

<script>
   import { gsap } from 'gsap';

   const homepage = document.querySelector('.homepage');
   const avatar = document.querySelector('figure');
   const underline = document.querySelector('.underline');
   const description = document.querySelector('.developer-info');
   const timeline = gsap.timeline({
      defaults: {
         duration: 1,
         ease: 'power3.inOut'}
   });

   timeline
      .to(homepage, {
         duration: 0,
         opacity: 1
      })
      .fromTo(avatar, {
         opacity: 0,
      }, {
         duration: 1.5,
         opacity: 1,
         ease: 'expo',
         height: '300px',
         width: '300px',
      })
      .fromTo(['h2', 'h1', description], {
         opacity: 0,
      }, {
         opacity: 1,
         stagger: 1,
      })
      .fromTo('h1', {
         transform: 'scale(1.25)'
      }, {
         duration: 2,
         transform: 'scale(1)',
      })
      .to(underline, {
         duration: 1,
         ease: 'sine',
         width: '100%',
      })
</script>