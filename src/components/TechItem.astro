---
import {Icon} from 'astro-icon/components';
import { Tooltip, TooltipTrigger, TooltipContent } from '@/components/starwind/tooltip';
const {
   name,
   icon,
   description,
   url,
} = Astro.props;
---


<div class='tech-item mx-7 lg:mx-5 my-10'>
    <Tooltip openDelay={400}>
        <TooltipTrigger>
            <div class='tech-icon opacity-0'>
                <Icon
                    name={icon}
                    class='w-12 h-12 mx-8 trigger-icon'
                />

                <p class='my-5'>{ name }</p>
            </div>
        </TooltipTrigger>

        <TooltipContent side='bottom'>

            <div class='card p-6 bg-base-100 shadow-lg'>

                <div class='card-body'>
                    <div class='icon-info-container w-[65px]'>
                        <Icon
                            name='hugeicons:information-circle'
                            class='w-8 h-8'
                        />
                    </div>

                    <span class='text-left basis-full'>{description}</span>
                </div>

                <div class='card-actions my-2 justify-center'>
                    <a
                        href={url}
                        target='_blank'
                        rel='noopener noreferrer'
                        aria-label='Link to description'
                        class='btn btn-soft align-center'
                    >
                        <span>Learn more</span>
                    </a>
                </div>
            </div>
        </TooltipContent>
    </Tooltip>
</div>

<style>
    .tech-item {
        align-items: center;
        display: flex;
        flex-direction: column;

        &:hover {
            cursor: pointer;
        }

        &:hover svg.trigger-icon,
        &:hover p {
            opacity: 0.8;
        }

        /*  Tooltip content */
        .starwind-tooltip-content {
            display: none;
            //display: flex;
            --tooltip-offset: calc(100% - 15px) !important;
            white-space: normal;

            &:hover {
                cursor: auto;
            }

            .card {
                background-color: var(--card);
                border-top: 4px solid var(--color-zinc-50);
            }

            .card-body {
                align-items: center;
                display: flex;
                flex-direction: row;
                flex: initial;
                gap: 1rem;
                padding: 0;
                width: 550px;

                .icon-info-container {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    height: 75px;
                }
            }

            /* Tablet/Mobile */
            @media (max-width: 900px) {
            }
        }
    }
</style>